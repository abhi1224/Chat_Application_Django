{% extends 'base.html' %}
{% block title %} Login | {% endblock title %}


{% block body %}


  <div class="wrapper">
    <section class="form login">
      {% comment %} <header>Realtime Chat App</header> {% endcomment %}
      <header>Django chat</header>

      {% for message in messages %}
      <p style="color:red"> {{message}} </p>
      {% endfor %}

       <form action="/login" method="POST" > 
        {% csrf_token %}
       
        <div class="field input">
          <label>Username</label>
          <input type="text" name="username" id="username" placeholder="Enter your username" required>
        </div>
        <div class="field input">
          <label>Password</label>
          <input type="password" name="password" id="password" placeholder="Enter your password" required>
          <i class="fas fa-eye"></i>
        </div>
        
        <div class="field button">
          <input type="submit" name="submit" value="Continue to Chat">
        </div>
      </form>
      <div class="link">I don't have an account ? <a href="/signup">Register</a></div>
    </section>
  </div>

<script>
  const pswrdField = document.querySelector(".form input[type='password']"),
toggleIcon = document.querySelector(".form .field i");

toggleIcon.onclick = () =>{
  if(pswrdField.type === "password"){
    pswrdField.type = "text";
    toggleIcon.classList.add("active");
  }
  else{
    pswrdField.type = "password";
    toggleIcon.classList.remove("active");
  }
}
</script>
{% endblock body %}



